<div class="content-header">
    <div class="container-fluid">
        <div class="row mt-5 justify-content-center text-center">
            <div class="col-sm-9 cabecera sombra border rounded p-2 ">
                <h5 class="mt-2 font-weight-bold ">
                    Información del Pedido
                </h5>
            </div>
        </div>
    </div>
</div>

<div class="content">
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="card card-body col-sm-9 detalle sombra border mt-3">

                <!-- Información general del pedido -->
                <div class="row mb-3">
                    <div class="col-md-6">
                        <p><strong>N° Pedido:</strong> {{ pedido.numero }}</p>
                        <p><strong>Fecha:</strong> {{ pedido.fecha | date:'dd/MM/yyyy' }}</p>
                        <p><strong>Beneficiario:</strong> {{pedido.beneficiario?.nomben}}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Documento:</strong> {{pedido.documento?.nomdoc }} - {{ pedido.numdoc }}</p>
                  
                        <p><strong>Total:</strong> ${{pedido.total | number:'1.2-2' }}</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm">
                        <p><strong>Descripción: </strong> {{pedido.descripcion}}</p>
                    </div>
                </div>

                <hr>

                <!-- Tabla de artículos -->
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover align-middle">
                        <thead class="table-success text-center">
                            <tr>
                                <th>#</th>
                                <th>Cuenta</th>
                                <th>Código</th>
                                <th>Cantidad</th>
                                <th>Precio Unitario</th>
                                <th>Subtotal</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let art of pedido.articulos; let i = index">
                                <td>{{ i + 1 }}</td>
                                <td>{{ art.articulo.codcue }}</td>
                                <td>{{ art.articulo.codigo }}</td>
                                <td class="text-end">{{ art.cantidad }}</td>
                                <td class="text-end">{{ art.articulo.cosactual | number:'1.2-2' }}</td>
                                <td class="text-end">{{ art.cantidad * art.articulo.cosactual | number:'1.2-2' }}</td>
                            </tr>
                        </tbody>
                        <tfoot class="fw-bold text-end">
                            <tr>
                                <td colspan="5">Total</td>
                                <td>${{ pedido.total | number:'1.2-2' }}</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>

                <!-- Botones -->
                <div class="row mt-3 text-center">
                    <div class="col-md-12">
                        <button type="button" class="btn btn-success btn-sm mx-1" (click)="aprobarPedido()">
                            <i class="fa fa-check-circle"></i> Aceptar
                        </button>
                        <button class="btn btn-outline-success btn-sm mx-1" (click)="cancelar()">
                            <i class="fa fa-times-circle"></i> Cancelar
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>